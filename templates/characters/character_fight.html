{% extends 'base.html' %}

{% load static %}
{% load custom_tags %}

{% block title %}Mythic Quest - Character Fight{% endblock %}

{% block main_content %}

    <div class="character-fight-main-box">
        <div class="card bg-dark character-fight-custom-main">
            <div class="card text-white character-fight-custom-header">
                <h4 class="card-header character-fight-custom-font home-header">Fight Screen</h4>
            </div>
            <div class="card-body text-white character-fight-custom-card-body">
                <div class="character-fight-info">
                    <div class="character-fight-left">
                        <h5 class="character-fight-character-nickname">{{ character.nickname }}</h5>
                        <img src="{% static character.image_path %}" alt="{{ character.nickname }} Image"
                             class="img-fluid">

                        <div class="px-2 d-flex justify-content-between character-fight-character-level">
                            <p>Level:</p>
                            <p>{{ character.level }}</p>
                        </div>
                        <div class="px-2 d-flex justify-content-between character-fight-character-level">
                            <p>Rating:</p>
                            <p>{{ character.rating|get_character_rating }}</p>
                        </div>
                    </div>

                    <div class="character-fight-center">
                        <div class="ml-auto char-fight-center-info">
                            <div class="char-fight-outcome">
                                <p class="smaller-text">Winner: {{ winner }}!<br>
                                    Gold Gained: {{ gained_gold|floatformat:0 }}<br>
                                    Gold Stolen: {{ stolen_gold|floatformat:0 }}<br>
                                    Exp Won: {{ gained_exp|floatformat:0 }}<br>
                                    Win Chance: {{ win_chance|floatformat:2 }}%
                                </p>
                            </div>
                            <a href="{% url 'details_character' pk=character.id %}" class="mb-2">
                                <button class="character-fight-edit-button smaller-text">My Character</button>
                            </a>
                            <a href="{% url 'dungeon' %}" class="mb-2">
                                <button class="character-fight-edit-button smaller-text">Dungeon</button>
                            </a>
                            <a href="{% url 'tavern' %}" class="mb-2">
                                <button class=" character-fight-edit-button smaller-text">Tavern</button>
                            </a>

                            <a href="{% url 'index' %}" class="mb-2">
                                <button class="character-fight-edit-button smaller-text">Back to Home</button>
                            </a>
                        </div>
                    </div>

                    <div class="character-fight-left">
                        <h5 class="character-fight-character-nickname">{{ enemy.nickname }}</h5>
                        <img src="{% static enemy.image_path %}" alt="{{ enemy.nickname }} Image"
                             class="img-fluid">

                        <div class="px-2 d-flex justify-content-between character-fight-character-level">
                            <p>Level:</p>
                            <p>{{ enemy.level }}</p>
                        </div>
                        <div class="px-2 d-flex justify-content-between character-fight-character-level">
                            <p>Rating:</p>
                            <p>{{ enemy.rating|get_character_rating }}</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock %}