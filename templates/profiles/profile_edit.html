{% extends 'base.html' %}
{% load static %}

{% block title %}Mythic Quest - Edit Profile{% endblock %}

{% block background_image %}
    <style>
        body.background-image {
            background-image: url('{% static 'img/town-square.jpg' %} ');
        }

    </style>
{% endblock %}


{% block main_content %}
    <div class="profile-edit-container">
        <form action="{% url 'profile_edit' %}" method="post" class="profile-edit-form" enctype="multipart/form-data">

            {% csrf_token %}
            {% if profile_image %}
                <div class="profile-edit-image-container">
                    <img src="/media/{{ profile_image }}"
                         alt="Profile Image"
                         width="100px"
                         class="profile-image custom-color edit-profile-custom-border-golden">
                </div>
            {% else %}
                <div class="profile-edit-image-container">
                    <img src="https://static.vecteezy.com/system/resources/previews/028/569/170/original/single-man-icon-people-icon-user-profile-symbol-person-symbol-businessman-stock-vector.jpg"
                         alt="Stock Profile Image"
                         width="100px" style="border-radius: 50%"
                         class="profile-image custom-color edit-profile-custom-border-golden">
                </div>
            {% endif %}

            <div class="profile-edit-form-fields">
                {# ALL FORM FIELDS #}
                <div class="">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username"
                           class="form-control custom-color edit-profile-custom-border-golden"
                           placeholder="Enter username."
                           value="{{ username }}">
                </div>
                <div class="m-1">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email"
                           class="form-control custom-color edit-profile-custom-border-golden"
                           placeholder="Enter email."
                           value="{{ email }}">
                </div>

                <div class="m-1">
                    <label for="profile_image">Profile Image:</label>
                    <input type="file" id="profile_image" name="profile_image"
                           class="form-control custom-color edit-profile-custom-border-golden">
                </div>

                {% if about %}
                    <div class="m-1">
                        <label for="about">About:</label>
                        <textarea id="about" name="about"
                                  class="form-control custom-color edit-profile-custom-border-golden"
                                  placeholder="Write about yourself.">{{ about }}</textarea>
                    </div>
                {% else %}
                    <div class="m-1">
                        <label for="about">About:</label>
                        <textarea id="about" name="about"
                                  class="form-control custom-color edit-profile-custom-border-golden"
                                  placeholder="Write about yourself."></textarea>
                    </div>
                {% endif %}

                <button class="details-character-edit-button mt-3">Save Changes</button>
            </div>

        </form>
    </div>
{% endblock %}